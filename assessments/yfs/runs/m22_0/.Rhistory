ABC_lastF=formatC(ABC_last,format="d",big.mark=",")
FABC_this=round(ABC_OFL18_2$HM_Fmsyr[1],3)
FABC_next=round(ABC_OFL18_2$HM_Fmsyr[2],3)
OFL_this=1000*ABC_OFL22_1$OFL_AM[1]
OFL_thisF=formatC(OFL_this,format="d",big.mark=",")
OFL_next=1000*ABC_OFL22_1$OFL_AM[2]
OFL_nextF=formatC(OFL_next,format="d",big.mark=",")
FOFL_this=round(ABC_OFL18_2$AM_Fmsyr[1],3)
FOFL_next=round(ABC_OFL18_2$AM_Fmsyr[2],3)
Bmsy_this=1000*ABC_OFL18_2$Bmsy[1]
Bmsy_thisF=formatC(Bmsy_this,format="d",big.mark=",")
Bmsy_next=1000*ABC_OFL18_2$Bmsy[2]
Bmsy_nextF=formatC(Bmsy_next,format="d",big.mark=",")
#REMOVELATER
TotBio_last=1000*ABC_OFL2021$GM_Biom[1]
TotBio_thisF=formatC(TotBio_this,format="d",big.mark=",")
TotBio_next=1000*ABC_OFL22_1$GM_Biom[2]
TotBio_nextF=formatC(TotBio_next,format="d",big.mark=",")
FABC_thisADJ=formatC(round(0.1089217,3),digits=3,format="f")
FABC_nextADJ=formatC(round(0.1095547,3),digits=3,format="f")
#Tier 3 estimates from projection
bigfile=read.table("/Users/ingridspies/admbmodels/projection/BSAI_yfin2021_out/bigfile.out",header=TRUE)
percentiles=read.table("/Users/ingridspies/admbmodels/projection/BSAI_yfin2021_out/percentiles.out",nrows =1,header=TRUE)
percentdb=read.table("/Users/ingridspies/admbmodels/projection/BSAI_yfin2021_out/percentdb.out")
T3_ABC_this=1000*mean(bigfile$ABC[which(bigfile$Yr==2022&bigfile$Alternative==1)])
T3_ABC_thisF=formatC(T3_ABC_this,format="d",big.mark=",")
T3_ABC_next=1000*mean(bigfile$ABC[which(bigfile$Yr==2023&bigfile$Alternative==1)])
T3_ABC_nextF=formatC(T3_ABC_next,format="d",big.mark=",")
T3_OFL_this=1000*mean(bigfile$OFL[which(bigfile$Yr==2022&bigfile$Alternative==3)])
T3_OFL_thisF=formatC(T3_OFL_this,format="d",big.mark=",")
T3_OFL_next=1000*mean(bigfile$OFL[which(bigfile$Yr==2023&bigfile$Alternative==3)])
T3_OFL_nextF=formatC(T3_OFL_next,format="d",big.mark=",")
T3_TotBio_this=1000*mean(bigfile$Tot_biom[which(bigfile$Yr==2022&bigfile$Alternative==4)])
T3_TotBio_thisF=formatC(T3_TotBio_this,format="d",big.mark=",")
T3_TotBio_next=1000*mean(bigfile$Tot_biom[which(bigfile$Yr==2023&bigfile$Alternative==1)])
T3_TotBio_nextF=formatC(T3_TotBio_next,format="d",big.mark=",")
T3_FSB_this=1000*mean(bigfile$SSB[which(bigfile$Yr==2022&bigfile$Alternative==2)])
T3_FSB_thisF=formatC(T3_FSB_this,format="d",big.mark=",")
T3_FSB_next=1000*mean(bigfile$SSB[which(bigfile$Yr==2023&bigfile$Alternative==2)])
T3_FSB_nextF=formatC(T3_FSB_next,format="d",big.mark=",")
T3_FABC_this=round(mean(percentdb$V5[which(percentdb$V4=="Fabc"&percentdb$V2==1&percentdb$V3==2022)]),3)
T3_FABC_next=round(mean(percentdb$V5[which(percentdb$V4=="Fabc"&percentdb$V2==1&percentdb$V3==2023)]),3)
T3_FOFL_this=round(mean(percentdb$V5[which(percentdb$V4=="Fofl"&percentdb$V2==1&percentdb$V3==2022)]),3)
T3_FOFL_next=round(mean(percentdb$V5[which(percentdb$V4=="Fofl"&percentdb$V2==1&percentdb$V3==2023)]),3)
T3_B100_this=1000*percentiles$SB0
T3_B100_thisF=formatC(1000*percentiles$SB0,format="d",big.mark=",")
T3_B40_this=1000*percentiles$SB40
T3_B40_thisF=formatC(1000*percentiles$SB40,format="d",big.mark=",")
T3_B35_this=1000*percentiles$SB35
T3_B35_thisF=formatC(1000*percentiles$SB35,format="d",big.mark=",")
formatC(ABC_OFL2021$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021alt=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021alt$GM_Biom[1]*1000,format="d",big.mark=",")
YFS2021alt=read.rep("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m18_2_2021/fm.rep")
YFS2021alt=read.rep("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_2021/fm.rep")
YFS2021alt$Bzero
ABC_OFL18_2=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2/ABC_OFL.rep",header=TRUE)
ABC_OFL18_2=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_2021/ABC_OFL.rep",header=TRUE)
ABC_OFL18_2
ABC_OFL18_2
ABC_OFL18_2a=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2a/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL18_2a$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL18_2=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL18_2$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL18_2a_redo=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2a_redotest/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL18_2a_redo$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL18_2a_redo=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2a_redotest/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL18_2a_redo$GM_Biom[1]*1000,format="d",big.mark=",")
formatC(ABC_OFL18_2a_redo$GM_Biom[2]*1000,format="d",big.mark=",")
ABC_OFL18_2a_redo=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2a_redotest/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL18_2a_redo$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL18_2a_redo=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2a_redotest/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL18_2a_redo$GM_Biom[1]*1000,format="d",big.mark=",")
formatC(ABC_OFL18_2a_redo$GM_Biom[2]*1000,format="d",big.mark=",")
ABC_OFL18_2a=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2a/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL18_2a$GM_Biom[2]*1000,format="d",big.mark=",")
ABC_OFL18_2a=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2a/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL18_2a$GM_Biom[1]*1000,format="d",big.mark=",")
formatC(ABC_OFL18_2a$GM_Biom[2]*1000,format="d",big.mark=",")
ABC_OFL18_2=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2/ABC_OFL.rep",header=TRUE)
ABC_OFL18_2=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2/ABC_OFL.rep",header=TRUE)
YFS2021=read.rep("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/fm.rep")
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021ff=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021ff$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021ff=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021ff$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021ff=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021ff$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021ff=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_1sel/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021ff$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021ff=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
ABC_OFL2021ff=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021ff$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$GM_Biom[1]*1000,format="d",big.mark=",")
formatC(ABC_OFL2021$GM_Biom[2]*1000,format="d",big.mark=",")
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m18_2_2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$GM_Biom[1]*1000,format="d",big.mark=",")
formatC(ABC_OFL2021$GM_Biom[2]*1000,format="d",big.mark=",")
formatC(ABC_OFL2021$SSB[1]*1000,format="d",big.mark=",")
2479370-2468980
354014-10390
95195+10390
95195-10390
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$GM_Biom[1]*1000,format="d",big.mark=",")
formatC(ABC_OFL2021$GM_Biom[2]*1000,format="d",big.mark=",")
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$GM_Biom[1]*1000,format="d",big.mark=",")
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$GM_Biom[1]*1000,format="d",big.mark=",")
formatC(1000*ABC_OFL2021$Bmsy[1],format="d",big.mark=",")
formatC(ABC_OFL2021$SSB[1]*1000,format="d",big.mark=",")
YFS18_2$Bzero
YFS2021=read.rep("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/fm.rep")#last years model
YFS2021$Bzero
YFS2021=read.rep("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/fm.rep")#last years model
YFS2021$Bzero
1489190-1485680
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$SSB[1]*1000,format="d",big.mark=",")
YFS2021=read.rep("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/fm.rep")#last years model
YFS2021$Bzero
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFL2021$SSB[1]*1000,format="d",big.mark=",")
YFS2021=read.rep("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/fm.rep")#last years model
YFS2021$Bzero
YFSretro=read.rep("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/retro18_2/retro_0/fm.rep")#last years model
YFSretro$Bzero
ABC_OFLretro=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/retro18_2/retro_0/ABC_OFL.rep",header=TRUE)
formatC(ABC_OFLretro$SSB[1]*1000,format="d",big.mark=",")
formatC(ABC_OFLretro$SSB[2]*1000,format="d",big.mark=",")
YFS2021new=read.rep("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021NEW/fm.rep")#l
YFS2021new$Bzero
ABC_OFLnew=read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m2021NEW/ABC_OFL.rep",header=TRUE)
ABC_OFLnew=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021NEW/ABC_OFL.rep",header=TRUE)
ABC_OFLnew$GM_Biom[1]
ABC_OFLnew$SSB[1]
ABC_OFLnew$SSB[2]
ABC_OFLnew$Bmsy[1]
ABC_OFL2020$SSB[1]
ABC_OFLnew$SSB[1]
YFS2021=read.rep("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021NEW/fm.rep")
ABC_OFL2021=read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021NEW/ABC_OFL.rep",header=TRUE)
B0_2021=formatC(1000*YFS2021$Bzero,format="d",big.mark=",")
ABC_last=1000*ABC_OFL2021$ABC_HM[2]
ABC_lastF=formatC(ABC_last,format="d",big.mark=",")
#REMOVELATER
TotBio_last=1000*ABC_OFL2021$GM_Biom[1]
TotBio_thisF=formatC(TotBio_this,format="d",big.mark=",")
#Calculate Francis 2011 reweighting of the hauls
fish_lf_hauls=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/ATF assessment/2017 GOA ATF assessment/Num_fishery_lengths_export.csv",header=TRUE)
fhyrs=as.numeric(names(table(fish_lf_hauls$YEAR)))
fish_hauls_fem=vector();fish_hauls_mal=vector()
for(i in 1: length(fhyrs)){
fish_hauls_fem[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
fish_hauls_mal[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="M"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
}
#Calculate Francis 2011 reweighting of the hauls
fish_lf_hauls
fhyrs=as.numeric(names(table(fish_lf_hauls$YEAR)))
fish_hauls_fem=vector();fish_hauls_mal=vector()
for(i in 1: length(fhyrs)){
fish_hauls_fem[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
fish_hauls_mal[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="M"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
}
fish_hauls_fem
head(fish_lf_hauls)
fhyrs=as.numeric(names(table(fish_lf_hauls$YEAR)))
fhyrs
fish_hauls_fem=vector();fish_hauls_mal=vector()
i-1
i=1
length(fhyrs)
i=1
fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F")]
fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i])]
fhyrs[1]
sapply(fish_lf_hauls,class)
fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==1989)]
fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==1995)]
fhyrs[i]
i=6
fhyrs[i]
i=8
fhyrs[i]
fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i])]
fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
for(i in 1:length(fhyrs)){
fish_hauls_fem[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
fish_hauls_mal[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="M"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
}
i=8
fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
for(i in 8:9){
fish_hauls_fem[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
fish_hauls_mal[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="M"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
}
fish_hauls_fem
#Calculate Francis 2011 reweighting of the hauls
fish_lf_hauls=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/ATF assessment/2017 GOA ATF assessment/Num_fishery_lengths_export.csv",header=TRUE)
fhyrs=as.numeric(names(table(fish_lf_hauls$YEAR)))
fish_hauls_fem=vector();fish_hauls_mal=vector()
for(i in 8:9){
fish_hauls_fem[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
fish_hauls_mal[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="M"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
}
fish_hauls_fem
for(i in 1:length(fhyrs)){
fish_hauls_fem[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="F"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
fish_hauls_mal[i]=fish_lf_hauls$NUMBER_OF_HAULS[which(fish_lf_hauls$SEX=="M"&fish_lf_hauls$YEAR==fhyrs[i]&fish_lf_hauls$SPECIES==141)]
}
#stage2 wts fishery lengths
#have hauls from 1989 1990 1991 1992 1993 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017
yrs_fem=which(seq(ATF$Styr,ATF$Endyr,1)%in%ATF$yrs_fish)
#number of fish aged in each year of data
fishaged=c(1293,1534,325,1043,706,931,1384,1034,729,786,822,899,822,600)
yrsages #years with age data used in model
Nages=rep(200,14)#fishaged #10000 is esimtae for number of fish lengthed
length(fishaged)
yrsages=seq(1990,2014,1)
length(yrsages)
yrsages=seq(2001,2014,1)
length(yrsages)
Nages=rep(200,14)#fishaged #10000 is esimtae for number of fish lengthed
fishaged=c(1293,1534,325,1043,706,931,1384,1034,729,786,822,899,822,600)
yrsages=seq(2001,2014,1) #years with age data used in model
Nages=rep(200,14)#fishaged #10000 is esimtae for number of fish lengthed
#stage 2 wts survey ages
obar_jy_f=vector() #1-30 is shelf
YFS2021$yrs_srv_age_s
YFS2021$oac_srv_s
dim(YFS2021$oac_srv_s)
kable(catchZ,"latex",booktabs=T,linesep="",longtable=TRUE,align=c('r','r','r','r','r','r','r'))%>%
add_header_above(c(" ", " ","Domestic" = 4, " " ))%>%options(knitr.kable.NA = '')
options(knitr.kable.NA = '')
kable(catchZ,"latex",booktabs=T,linesep="",longtable=TRUE,align=c('r','r','r','r','r','r','r'))%>%
add_header_above(c(" ", " ","Domestic" = 4, " " ))
kable(catchZ,"latex",booktabs=T,linesep="",longtable=TRUE,align=c('r','r','r','r','r','r','r'))%>%
add_header_above(c(" ", " ","Domestic" = 4, " " ))
ABC_this+T3_ABC_this
retdis=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/GroundfishTotalDiscards_EBS_YFS_10_10_22.csv",header=TRUE)#October 13,2021
Year=names(table(retdis$Year))
rdtable_full=matrix(0,length(Year),3)
colnames(rdtable_full)=c("Year","Retained (t)","Discarded (t)")
rdtable_full[,1]=Year
for (i in 1:length(Year)){
rdtable_full[i,2]=round(sum(retdis$Retained..mt.[which(retdis$Year==Year[i])]))
rdtable_full[i,3]=round(sum(retdis$Discards..mt.[which(retdis$Year==Year[i])]))
}
ret=formatC(as.numeric(as.character(rdtable_full[,2])),format="d",big.mark=",")
dis=formatC(as.numeric(as.character(rdtable_full[,3])),format="d",big.mark=",")
prop=round(as.numeric(as.character(rdtable_full[,3]))/(as.numeric(as.character(rdtable_full[,2]))+as.numeric(as.character(rdtable_full[,3]))),2)
rdfull=cbind(Year,ret,dis,prop)
colnames(rdfull)=c("Year","Retained (t)","Discarded (t)","Proportion discarded")
kable(rdfull,"latex",booktabs=T,linesep="",longtable=TRUE,align='r')
retdis2021=retdis[which(retdis$Year=="2021"),]#same as previous table
target=names(table(retdis2021$Target))
gear=c("HAL","NPT","POT","PTR")
rdtab=matrix(0,length(target)*4,3)
rownames(rdtab)=rep(target,4)
colnames(rdtab)=c("Gear","Discarded","Retained")
rdtab
rdtab[,1]=rep(gear,each=length(target))
for(i in 1:length(target)){
for(j in 1:length(gear)){
rdtab[i+((j-1)*13),2]=sum(retdis2021$Discards..mt.[which(retdis2021$Target==target[i]&retdis2021$Gear==gear[j])])
rdtab[i+((j-1)*13),3]=sum(retdis2021$Retained..mt.[which(retdis2021$Target==target[i]&retdis2021$Gear==gear[j])])
}}
rdtab
rd=data.frame(rdtab[which((as.numeric(rdtab[,2])+as.numeric(rdtab[,3]))>0),])
rd
rd=data.frame(rdtab[which((as.numeric(rdtab[,2])+as.numeric(round(rdtab[,3])))>0),])
rdtab[,3]
rdtab[,2])
rdtab[,2]
rd
as.numeric(rdtab[,2])+as.numeric(rdtab[,3])
round(as.numeric(rdtab[,2])+as.numeric(rdtab[,3]))
rd=data.frame(rdtab[which((round(as.numeric(rdtab[,2])+as.numeric(rdtab[,3])))>0),])
rowz=c("Halibut","Pacific Cod","Alaska Plaice","Arrowtooth Flounder","Atka Mackerel","Flathead Sole","Halibut","Other Flatfish","Other Species","Pacific Cod","Pollock - midwater","Rock Sole","Rockfish","Flathead Sole","Other Flatfish","Pollock - midwater","Alaska Plaice","Other Flatfish","Other Species","Pollock - midwater")
rd1=cbind(as.character(rowz),as.character(rd[,1]),formatC(round(as.numeric(as.character(rd[,2]))),big.mark=",",format="d"),formatC(as.numeric(as.character(rd[,3])),big.mark=",",format="d"))
rd
rd=data.frame(rdtab[which(((as.numeric(rdtab[,2])+as.numeric(rdtab[,3])))>0),])
rd
rd=data.frame(rdtab[which(((as.numeric(rdtab[,2])+as.numeric(rdtab[,3])))>0.1),])
rd
rd=data.frame(rdtab[which(((as.numeric(rdtab[,2])+as.numeric(rdtab[,3])))>0.07),])
rd
rowz=c("Halibut","Pacific Cod","Alaska Plaice","Arrowtooth Flounder","Atka Mackerel","Flathead Sole","Pacific Cod","Pollock - bottom","Rock Sole","Rockfish","Yellowfin Sole","Halibut","Pacific Cod","Pollock - bottom","Alaska Plaice","Pollock - midwater")
rd1=cbind(as.character(rowz),as.character(rd[,1]),formatC(round(as.numeric(as.character(rd[,2]))),big.mark=",",format="d"),formatC(as.numeric(as.character(rd[,3])),big.mark=",",format="d"))
rd=data.frame(rdtab[which(((as.numeric(rdtab[,2])+as.numeric(rdtab[,3])))>0.07),])
rowz=c("Halibut","Pacific Cod","Alaska Plaice","Arrowtooth Flounder","Atka Mackerel","Flathead Sole","Pacific Cod","Pollock - bottom","Rock Sole","Rockfish","Yellowfin Sole","Halibut","Pacific Cod","Pollock - bottom","Alaska Plaice","Pollock - midwater")
rd1=cbind(as.character(rowz),as.character(rd[,1]),formatC(round(as.numeric(as.character(rd[,2]))),big.mark=",",format="d"),formatC(as.numeric(as.character(rd[,3])),big.mark=",",format="d"))
rd1
rd
rowz=c("Halibut","Pacific Cod","Alaska Plaice","Arrowtooth Flounder","Atka Mackerel","Flathead Sole","Pacific Cod","Pollock - bottom","Rock Sole","Rockfish","Yellowfin Sole","Halibut","Pacific Cod","Pollock - bottom","Pollock - midwater")
rd1=cbind(as.character(rowz),as.character(rd[,1]),formatC(round(as.numeric(as.character(rd[,2]))),big.mark=",",format="d"),formatC(as.numeric(as.character(rd[,3])),big.mark=",",format="d"))
colnames(rd1)=c("Trip target name","Gear type","Discarded (t)","Retained (t)")
rd1
#YFS2$catage_f from 1954-thisyr, want from 1975, ages 7 - 17+
#select 1975 to last year
thisyr=2022
a=data.frame(seq(1975,thisyr-1,1),round(femcat,4)[22:(nrow(femcat)-1),7:17],rowSums(round(femcat,4)[22:(nrow(femcat)-1),7:17]))
femcat=YFS22_1$catage_f/rowSums(YFS22_1$catage_f)
malcat=YFS22_1$catage_m/rowSums(YFS22_1$catage_m)
femcat
#YFS2$catage_f from 1954-thisyr, want from 1975, ages 7 - 17+
#select 1975 to last year
thisyr=2022
a=data.frame(seq(1975,thisyr-1,1),round(femcat,4)[22:(nrow(femcat)-1),7:17],rowSums(round(femcat,4)[22:(nrow(femcat)-1),7:17]))
colnames(a)=c("Year",seq(7,16,1),"17+","Total female proportion over age 7")
kable(a,"latex",booktabs=T,linesep="")%>%kable_styling(latex_options="scale_down")%>%kable_styling(latex_options = "hold_position")
b=data.frame(seq(1975,thisyr-1,1),round(malcat,4)[22:(nrow(malcat)-1),7:17],rowSums(round(malcat,4)[22:(nrow(malcat)-1),7:17]))
colnames(b)=c("Year",seq(7,16,1),"17+","Total male proportion over age 7")
kable(b,"latex",booktabs=T,linesep="")%>%kable_styling(latex_options="scale_down")%>%kable_styling(latex_options = "hold_position")
YFSages=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/YFS_survey_ages2022.csv",header=TRUE)
head(YFSages)
table(YFSages$HAUL[which(YFSages$Year==2020)])
table(YFSages$HAUL[which(YFSages$Year==2019)])
length(table(YFSages$HAUL[which(YFSages$Year==2019)]))
length(table(YFSages$HAUL[which(YFSages$Year==2021)]))
length(table(YFSages$HAUL[which(YFSages$Year==2021&YFSages$AGE>0)]))
#Data comes from samplesize_ebs_PLUSNW.csv
haul_oto=read.csv("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/doc/2022/Hauls_otoliths.csv",header=TRUE)
#Data comes from samplesize_ebs_PLUSNW.csv
haul_oto=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/Hauls_otoliths.csv",header=TRUE)
#Data comes from samplesize_ebs_PLUSNW.csv
haul_oto=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/Hauls_otoliths.csv",header=TRUE)
YFSages=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/YFS_survey_ages2022.csv",header=TRUE)
#YFSages=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/YFS_survey_ages2022.csv",header=TRUE)
colnames(haul_oto)=c("Year","Total hauls","Hauls with length","Number of lengths","Hauls with otoliths","Hauls with ages","N. ages (survey)","N. ages (fishery)")
kable(haul_oto,"latex",booktabs=T,linesep="")%>%kable_styling(latex_options="scale_down")%>%kable_styling(latex_options = "hold_position")
mat=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/maturity_T10.csv",header=TRUE)
colnames(mat)=c("Age","1992, 1993 samples","2012 samples","Combined")
kable(mat,"latex",booktabs=T,linesep="")%>%add_header_above(c(" "=1,"Nichol (1995)"=1,"TenBrink and Wilderbuer (2015)"=1,"Total"=1))
srvbio=cbind(YFS18_2$yr_bts,formatC(1000*YFS18_2$ob_bts,format="d",big.mark=","),formatC(1000*YFS18_2$ob_bts-1.96*YFS18_2$sd_ob_bts,format="d",big.mark=","),formatC(1000*YFS18_2$ob_bts+1.96*YFS18_2$sd_ob_bts,format="d",big.mark=","))
colnames(srvbio)=c("Year","Biomass (t)","Lower confidence interval","Upper confidence interval")
biom=data.frame(round(1000*YFS18_2$TotBiom[,c(2,4,5)]),rbind(round(1000*YFS2021$TotBiom[,c(2,4,5)]),c("-","-","-")),round(1000*YFS22_0$TotBiom[,c(2)]),round(1000*YFS22_1$TotBiom[,c(2)]))
colnames(biom)=c("Biomass (t)","LCI","HCI","Biomass (t)","LCI","HCI","Biomass (t)","Biomass (t)")
biom=as.data.frame(apply(biom, 2, as.numeric))
rownames(biom)=seq(1954,2021,1)
YFS18_2$TotBiom
YFS2021$TotBiom
YFS22_0$TotBiom
YFS22_1$TotBiom
biom=data.frame(round(1000*YFS18_2$TotBiom[,c(2,4,5)]),rbind(round(1000*YFS2021$TotBiom[,c(2,4,5)]),c("-","-","-")),round(1000*YFS22_0$TotBiom[,c(2)]),round(1000*YFS22_1$TotBiom[,c(2)]))
biom
colnames(biom)=c("Biomass (t)","LCI","HCI","Biomass (t)","LCI","HCI","Biomass (t)","Biomass (t)")
biom=as.data.frame(apply(biom, 2, as.numeric))
biom
rownames(biom)=seq(1954,2022,1)
kable(biom,"latex",booktabs=T,linesep="",format.args=list(format="d",big.mark=","),longtable=TRUE,align="r")%>%add_header_above(c("Model"=1,"18.2 (2022)"=3,"18.2 (2021)"=3,"22_0 (2022)","22_1 (2022"))%>%kable_styling(latex_options = "scale_down")
NBS=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/NBS_YFS.csv",header=TRUE)
colnames(NBS)=c("Year","Biomass (t)","LCI","HCI","Haul count","Hauls with catch","Number count","Length count")
kable(NBS,"latex",booktabs=T,linesep="")
catage_p=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/YFS_SurveyAgecompEBS.csv",header=TRUE)
age=seq(2,17,1)
yrs=names(table(catage_p$YEAR))
catage_f=matrix(0,length(yrs),length(age))
catage_m=matrix(0,length(yrs),length(age))
isEmpty <- function(x)
{
return(identical(x, numeric(0)))
}
for(i in 1:length(yrs)){
for(j in 1:16)
{
if (yrs[i] %in% c(1982:1986)){
if(!isEmpty(catage_s$AGEPOP[which(catage_s$YEAR==yrs[i]&catage_s$SEX==2&catage_s$AGE==(j+1)&catage_s$SUBAREA==999999)]))
{catage_f[i,j]=catage_s$AGEPOP[which(catage_s$YEAR==yrs[i]&catage_s$SEX==2&catage_s$AGE==(j+1)&catage_s$SUBAREA==999999)]}
if(!isEmpty(catage_s$AGEPOP[which(catage_s$YEAR==yrs[i]&catage_s$SEX==1&catage_s$AGE==(j+1)&catage_s$SUBAREA==999999)]))
{catage_m[i,j]=catage_s$AGEPOP[which(catage_s$YEAR==yrs[i]&catage_s$SEX==1&catage_s$AGE==(j+1)&catage_s$SUBAREA==999999)]}
}
if (yrs[i] >=1987){
if(!isEmpty(catage_p$AGEPOP[which(catage_p$YEAR==yrs[i]&catage_p$SEX==2&catage_p$AGE==(j+1)&catage_p$STRATUM==999999)]))
catage_f[i,j]=catage_p$AGEPOP[which(catage_p$YEAR==yrs[i]&catage_p$SEX==2&catage_p$AGE==(j+1)&catage_p$STRATUM==999999)]
if(!isEmpty(catage_p$AGEPOP[which(catage_p$YEAR==yrs[i]&catage_p$SEX==1&catage_p$AGE==(j+1)&catage_p$STRATUM==999999)]))
catage_m[i,j]=catage_p$AGEPOP[which(catage_p$YEAR==yrs[i]&catage_p$SEX==1&catage_p$AGE==(j+1)&catage_p$STRATUM==999999)]
}
}
}
rownames(catage_f)=yrs
colnames(catage_f)=c(seq(2,16,1),"17+")
kable(formatC(catage_f/1000000,format="d",big.mark=","),"latex",booktabs=T,linesep="",align='r')%>%kable_styling(latex_options="scale_down")%>%add_header_above(c("Year", "Age (Females)"=16 ))%>%kable_styling(latex_options = "hold_position")
rownames(catage_m)=yrs
colnames(catage_m)=c(seq(2,16,1),"17+")
kable(formatC(catage_m/1000000,format="d",big.mark=","),"latex",booktabs=T,linesep="",align='r')%>%kable_styling(latex_options="scale_down")%>%add_header_above(c("Year", "Age (Males)"=16 ))%>%kable_styling(latex_options = "hold_position")
#Get research catch
rescat=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/NoncommercialFisheryCatch_YFS_10_11_22.csv")
yrs=as.numeric(names(table(rescat$Collection.Year)))
res=matrix(0,length(yrs),1)
for(i in 1:length(yrs)){
res[i]=sum(rescat$Weight[which(rescat$Collection.Year==yrs[i])])
}
rescatch=cbind(yrs,round(res/1000,0))
colnames(rescatch)=c("Year","Research catch (t)")
rescatch
#No new data in 2020
thisyr=2022
nyrs=length(seq(1964,thisyr,1)[-57])
wt_f=YFS18_2$wt_srv_f[11:(nyrs+10),]#YFS2 is the accepted model.
wt_m=YFS18_2$wt_srv_m[11:(nyrs+10),]
colnames(wt_f)=seq(1,20,1)
colnames(wt_m)=seq(1,20,1)
pars=as.data.frame(read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m22_1/fm.std",header=TRUE))
pars2=pars[c(1:6,115,185,186,325,395,465:468,720,743,744,745:813),]
pars3=cbind(pars2[1:46,2:4],c(rep("|",46)),(pars2[47:92,2:4]))
pars3[,1]=as.character(pars3[,1])
pars3[1:7,1]=c("male natural mortality","alpha (q-temp model)","beta (q-temp model)","beta (survey start date)","beta (start date/temp interaction)","mean log recruitment","log_avg_fmort")
colnames(pars3)=c("Name","Value","Standard Deviation","|","Name","Value","Standard Deviation")
rownames(pars3)=c()
kable(pars3,"latex",booktabs=T,linesep="",align=c("l","r","r","r","l","r","r"))%>%kable_styling(latex_options="scale_down")%>%kable_styling(latex_options = "hold_position")
length(seq(745,813,1))
length(1954,2022,1)
length(seq(1954,2022,1))
pars3=cbind(pars2[1:44,2:4],c(rep("|",44)),(pars2[45:92,2:4]))
length(seq(45,92,1))
length(seq(1954,2022,1))[8:10]
seq(1954,2022,1)[8:10]
fm=data.frame(cbind(YFS18_2$F_f[,18],YFS18_2$Obs_catch/YFS18_2$TotBiom[,2],YFS22_1$F_f[,18],YFS22_1$Obs_catch/YFS22_1$TotBiom[,2]))
colnames(fm)=c("Full selection F","Catch/Total Biomass","Full selection F","Catch/Total Biomass")
rownames(fm)=seq(1954,2022,1)
kable(fm,"latex",booktabs=TRUE,linesep="",align="r",digits=3,longtable=TRUE)%>%add_header_above(c(" "=1,"Model 18.2"=2,"Model 22.1"=2))
biom=data.frame(1000*YFS18_2$SSB[,c(2,4,5)],rbind(1000*YFS2021$SSB[,c(2,4,5)],c("-","-","-")),1000*YFS22_1$SSB[,c(2,4,5)])
colnames(biom)=c("FSB (t)","LCI","HCI","FSB (t)","LCI","HCI","FSB (t)","LCI","HCI")
rownames(biom)=seq(1954,2022,1)
biom=as.data.frame(apply(biom, 2, as.numeric))
kable(biom,"latex",booktabs=T,linesep="",format.args=list(format="d",big.mark=","),digits=0,align="r",longtable=TRUE)%>%add_header_above(c(" "=1,"Model 18.2 (2020)"=3,"Model 18.2 (2021)"=3,"Model 18.2a"))
pars1=as.data.frame(read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m22_1/fm.std",header=TRUE))
pars2=as.data.frame(read.table("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/runs/m2021/fm.std",header=TRUE))
pars1=as.data.frame(read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m22_1/fm.std",header=TRUE))
pars2=as.data.frame(read.table("/Users/ingridspies/admbmodels/BSAI_YFS/assessments/yfs/runs/m2021/fm.std",header=TRUE))
age1recpred1=pars1[550:618,3]
age1recstd1=pars1[550:618,4]
age1recpred2=pars2[546:613,3]
age1recstd2=pars2[546:613,4]
rec=data.frame(age1recpred1,age1recpred1-1.96*age1recstd1,age1recpred1+1.96*age1recstd1,c(round(age1recpred2,3),"-"),c(round(age1recpred2-1.96*age1recstd2,3),"-"),c(round(age1recpred2+1.96*age1recstd2,3),"-"))
rownames(rec)=seq(1954,2021,1)
colnames(rec)=c("Recruitment","LCI","HCI","Recruitment","LCI","HCI")
rownames(rec)=seq(1954,2022,1)
colnames(rec)=c("Recruitment","LCI","HCI","Recruitment","LCI","HCI")
kable(rec,"latex",booktabs=TRUE,linesep="",align="r",digits=3,longtable=TRUE)%>%add_header_above(c("Year"=1,"Model 22.1 (2022)"=3,"Model 18.2 (2021)"=3))
flatfish
BSAI_YFS
ABCOFL=read.csv("/Users/ingridspies/admbmodels/flatfish/assessments/yfs/doc/2021/YFS_ABCOFL.csv",header=TRUE)
ABCOFL[43,3]=formatC(ABC_this,format="d",big.mark=",");ABCOFL[43,4]=formatC(OFL_this,format="d",big.mark=",")
colnames(ABCOFL)=c("Year","TAC","ABC","OFL","Catch")
kable(ABCOFL,"latex",booktabs=TRUE,linesep="",align="r")
Catch[36]
catchZ=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/catch_YFS.csv",header=TRUE,skip=1)
prop=sum(YFS_catch$Catch..mt.[which(YFS_catch$Month<10&YFS_catch$Year<2022&YFS_catch$Year>2016&YFS_catch$FMP.Subarea=="BS")],na.rm=TRUE)/sum(YFS_catch$Catch..mt.[which(YFS_catch$Year<2022&YFS_catch$Year>2016&YFS_catch$FMP.Subarea=="BS")],na.rm=TRUE)
#Between 2017 and 2021, 83.07% of the YFS catch was caught by October 1 (data downloaded Sept 28,2022 so very close)
#estimate catch
yrz=seq(1987,2022,1)
Catch=vector()
for(i in 1:length(yrz)){
Catch[i]=sum(YFS_catch$Catch..mt.[which(YFS_catch$Year==yrz[i])])
}
Catch[36]
Catch[35]
ABCOFL=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/YFS_ABCOFL.csv",header=TRUE)
ABCOFL[43,3]=formatC(ABC_this,format="d",big.mark=",");ABCOFL[43,4]=formatC(OFL_this,format="d",big.mark=",")
colnames(ABCOFL)=c("Year","TAC","ABC","OFL","Catch")
kable(ABCOFL,"latex",booktabs=TRUE,linesep="",align="r")
bycatch1=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/FMPGroundfishBycatchYFS1991_2022.csv",header=TRUE)
bycatch1=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/FMPGroundfishBycatchYFS1991_2022.csv",header=TRUE)
yrs=names(table(bycatch1$Year))
spp=names(table(bycatch1$Species.Group.Name))
b1=matrix(0,length(yrs),length(spp))
for(i in 1:length(yrs)){
for(j in 1:length(spp)){
b1[i,j]=sum(bycatch1$Catch..mt.[which(bycatch1$Year==yrs[i]&bycatch1$Species.Group.Name==spp[j])])
}
}
b1f=formatC(b1,format="d",big.mark=",")
colnames(b1f)=spp
rownames(b1f)=yrs
write.csv(b1f,"/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/b1f.csv")
b1fa=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/b1fa.csv",header=TRUE)
#Go in and split into 3 tables
b1fa=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/b1fa.csv",header=TRUE)
b1fb=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/b1fb.csv",header=TRUE)
b1fc=read.csv("/Documents/WorkDellStuff/Assessments/YFS/2022/b1fc.csv",header=TRUE)
b1fc=read.csv("Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/b1fc.csv",header=TRUE)
b1fc=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/b1fc.csv",header=TRUE)
colnames(b1fa)=c("Year","Arrowtooth Fl.","Atka","AK Plaice","Kamchatka Fl.","O. Flatfish","Flathead Sole","Flounder","Greenland Turbot")
colnames(b1fa)=c("Year","Alaska Plaice", "Arrowtooth Fl.", "Atka Mackerel", "AK Plaice","Kamchatka Fl.", "O. Flatfish", "Shortraker RF", "Skate","Squid", "Flathead")
colnames(b1fb)=c("Year","Flounder", "G. Turbot", "Non.TAC.Species", "Northern RF","Octopus", "Other", "O. Flatfish", "Other Rockfish", "Other Species", "Pacific Cod")
colnames(b1fc)=c("Year","POP", "Pollock", "Rex Sole", "Rock Sole", "Sablefish", "Sculpin", "Shark","Sharpchin/N. RF", "SR/RE/Sharpchin/N. RF","Squid")
bycatch2=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/FMPOtherSpeciesBycatch_CAS2_YFS1991_2022.csv",header=TRUE)
yrs=names(table(bycatch2$Year))
spp=names(table(bycatch2$Species.Group.Name))
b2=matrix(0,length(yrs),length(spp))
for(i in 1: length(yrs)){
for(j in 1:length(spp)){
b2[i,j]=sum(bycatch2$Weight.Posted..mt.[which(bycatch2$Year==yrs[i]&bycatch2$Species.Group.Name==spp[j])])
}
}
b2f=formatC(b2,format="d",big.mark=",")
colnames(b2f)=spp
rownames(b2f)=yrs
write.csv(b2f,"/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/b2f.csv")
b2f=read.csv("/Users/ingridspies/Documents/WorkDellStuff/Assessments/YFS/2022/b2f.csv",header=TRUE)
colnames(b2f)[1]="Year"
